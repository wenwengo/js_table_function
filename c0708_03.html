<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>點餐</title>
    <style>
        table {
            border: 1px solid black;
            background-color: #ccc;
        }

        th,
        td {
            margin-right: 3px;
            /* border: 1px solid black; */
            vertical-align: middle;
            /* 表格內垂直置中 */
            text-align: center;
        }

        p {
            text-align: center;
            color: green;
        }

        input {
            width: 60px;
            ;

        }
    </style>
</head>

<body>
    <form action="">
        <div class="container">


            <table>
                <tr>
                    <td colspan="5">
                        <p>凡購買滿500元以上，結帳金額回饋七折優惠！</p>
                    </td>
                </tr>
                <tr>
                    <th>名稱</th>
                    <th>單價</th>
                    <th>數量</th>
                    <th>小計</th>
                    <th>金額</th>
                </tr>
                <tr>
                    <td>咖啡</td>
                    <td><input type="number" id="pricing_coffee" disabled value="50"></td><!-- 單價-咖啡 -->
                    <td><input type="number" min="0" name="coffeeNum" id="coffeeNum"></td><!-- 數量 -->
                    <td>
                        <label id="total_coffee" value=""></label><!-- 費用小計-咖啡品項 -->
                    </td>
                    <td rowspan="3">
                        <label id="sumNum">0</label><!-- 結帳金額 -->
                    </td>
                </tr>
                <tr>
                    <td>花茶</td>
                    <td><input type="number" id="pricing_scentedTea" disabled value="100"></td><!-- 單價-花茶 -->
                    <td><input type="number" min="0" name="qscentedTeaNum" id="qscentedTeaNum"></td><!-- 數量 -->
                    <td>
                        <label id="total_scentedTea"></label><!-- 費用小計-花茶品項 -->
                    </td>
                </tr>
                <tr>
                    <td>蛋糕</td>
                    <td><input type="number" id="pricing_cake" disabled value="70"></td><!-- 單價-蛋糕 -->
                    <td><input type="number" min="0" name="cakeNum" id="cakeNum"></td><!-- 數量 -->
                    <td>
                        <label id="total_cake"></label><!-- 費用小計-蛋糕品項 -->
                    </td>
                </tr>
                <tr>

                </tr>
            </table>

        </div>
    </form>


    <script>

        // 定義計算總金額的函式

        // <!-- 單價 -->
        let pricing_coffee = Number(document.getElementById("pricing_coffee").value);
        let pricing_scentedTea = Number(document.getElementById("pricing_scentedTea").value);
        let pricing_cake = Number(document.getElementById("pricing_cake").value);

        // <!-- 數量 -->
        let qty_coffee = Number(document.getElementById("coffeeNum").value);
        let qty_scentedTea = Number(document.getElementById("qscentedTeaNum").value);
        let qty_cake = Number(document.getElementById("cakeNum").value);

        // 小計
        let total_coffee = pricing_coffee * qty_coffee;
        let total_scentedTea = pricing_scentedTea * qty_scentedTea;
        let total_cake = pricing_cake * qty_cake;

        // 顯示小計
        document.getElementById("total_coffee").innerText = total_coffee;
        document.getElementById("total_scentedTea").innerText = total_scentedTea;
        document.getElementById("total_cake").innerText = total_cake;


        let totalSum = total_coffee + total_scentedTea + total_cake;

        // 七折優
        if (totalSum >= 500) {
            totalSum *= 0.7;
        }

        // 顯示應付金額
        document.getElementById("sumNum").innerText = totalSum;

        coffeeNum.addEventListener('change', function () {
            let data_coffee = Number(this.value);   

        })


        qscentedTeaNum.addEventListener('change', function () {
            let data_scentedTea = Number(this.value);
           
        })

        cakeNum.addEventListener('change', function () {

            let data_cake = Number(this.value);

            
        })









        //     // 計算各產品的小計
        //     let total_coffee = pricing_coffee * qty_coffee;
        //     let total_scentedTea = pricing_scentedTea * qty_scentedTea;
        //     let total_cake = pricing_cake * qty_cake;

        //     // 更新小計顯示
        //     document.getElementById("total_coffee").textContent = total_coffee;
        //     document.getElementById("total_scentedTea").textContent = total_scentedTea;
        //     document.getElementById("total_cake").textContent = total_cake;

        //     // 計算總金額
        //     let totalSum = total_coffee + total_scentedTea + total_cake;

        //     // 如果總金額超過或等於500，套用七折優惠
        //     if (totalSum >= 500) {
        //         totalSum *= 0.7; // 七折優惠
        //     }

        //     // 更新結帳金額顯示
        //     document.getElementById("sumNum").textContent = totalSum.toFixed(2); // 顯示兩位小數
        // }
    </script>
</body>

</html>